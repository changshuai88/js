<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>replace</title>
    <style>
        td{
            outline: aqua solid 1px;
            text-align: center;
        }
    </style>
</head>
<body>
    <h1>replace</h1>
    <p>replace方法不仅可以执行基本字符替换，也可以进行正则替换，下面替换日期连接符</p>
    <script>
        let date ="2023/05/06";
        console.log(date.replace(/\//g,"-"));
    </script>

    <table>
        <thead>
            <td>变量</td>
            <td>说明</td>
        </thead>
        <tbody>
            <tr>
                <td>$$</td>
                <td>插入一个$</td>
            </tr>
            <tr>
                <td>$&</td>
                <td>插入匹配的子串</td>
            </tr>
            <tr>
                <td>$`</td>
                <td>插入当前匹配的子串左边的内容</td>
            </tr>
            <tr>
                <td>$'</td>
                <td>掺入当前匹配的子串右边的内容</td>
            </tr>
            <tr>
                <td>$n</td>
                <td>假如第一个参数是RegExp对象，并且n是个小于100的非负整数，那么插入第n个括号匹配的字符串。提示：索引从1开始</td>
            </tr>
        </tbody>
    </table>

    <script>
        // 在后盾人前后添加三个=
        let tian="=后盾人=";
        console.log(tian.replace(/后盾人/g,"$`$`$&$'$'"));

        // 把电话好用-连接
    let phone="(010)99999999 (020)88888888";
    console.log(phone.replace(/\((\d{3,4})\)(\d{7,8})/g,"$1-$2"));

    </script>
    <p>李白是我国古代著名的诗人，李白字太白。</p>
    <script>
        const body=document.body;
        body.innerHTML=body.innerHTML.replace(
            /李白/g,
            `<a href="https://www.baidu.com">$&</a>`
        );
        
    </script>
    <p>为链接添加上https，并不全www.</p>
    <main>
        <a style="color: red;" href="http://www.hdcms.com">开源系统</a>
        <a id="11" href="http://houdunren.com">后盾人</a>
        <a href="http://yahoo.com">雅虎</a>
        <h4>http://www.hdcms.com</h4>
    </main>
    <script>
        const main=document.querySelector("body main");
        const qin=/(<a.*href=["'])(http)(:\/\/)(www\.)?(hdcms|houdunren)/gi;
        main.innerHTML=main.innerHTML.replace(qin,(v,...args)=>{
            // console.log(v);
            // console.table(args); 
            args[1]+="s";
            args[3]=args[3]||"www.";
            return args.splice(0,5).join("");
        })
    </script>
    <p>将标题标签全部替换为p标签</p>
    <article>
        <h1>床前明月光</h1>
        <h2>疑是地上霜</h2>
        <h1>举头望明月</h1>
        <script>
            const han=/<(h[1-6])>(.*?)<\/\1>/g;
            const artcle =document.querySelector("body article").innerHTML;
            const aaa=artcle.replace(han,function(str,tag,content){
                // console.log(content);
                return `<p>${content}</p>`;

            });
            document.querySelector("body article").innerHTML=aaa;


        </script>
    </article>
</body>
</html>